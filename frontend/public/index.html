<!DOCTYPE html>
<html>

<head>
  <title>File Upload App</title>
</head>

<body>
  <h1>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞</h1>
  <form action="/upload" method="POST" enctype="multipart/form-data">
    <input type="file" name="file" />
    <button type="submit">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
  </form>

  <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª:</h2>
  <div id="status">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  <script>
    async function fetchLastUpload() {
      const response = await fetch('/last-upload');
      const data = await response.json();

      const statusDiv = document.getElementById('status');
      if (data.filename && data.size) {
        statusDiv.innerText = `üìÅ –§–∞–π–ª: ${data.filename}, –†–∞–∑–º–µ—Ä: ${data.size} –±–∞–π—Ç`;
      } else {
        statusDiv.innerText = '–ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ';
      }
    }

    // –û–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
    setInterval(fetchLastUpload, 3000);

    // –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
    fetchLastUpload();
  </script>
</body>

</html>